<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ProgramƒÉri Poli»õie</title>
  <style>
    body{font-family:'Segoe UI',sans-serif;background:#0a0a0a;color:#fff;margin:0;display:flex;min-height:100vh;align-items:center;justify-content:center}
    .wrap{width:92%;max-width:520px;background:#151515;padding:32px;border-radius:16px;box-shadow:0 0 28px rgba(255,215,0,.25);border:1px solid rgba(255,215,0,.25)}
    h2{text-align:center;color:#ffd700;margin:0 0 18px;text-transform:uppercase;letter-spacing:.5px;text-shadow:0 0 8px #ffd700}
    label{display:block;margin-top:12px;font-weight:600;color:#ddd}
    input,textarea{width:100%;margin-top:6px;padding:12px;border-radius:10px;border:1px solid rgba(255,215,0,.3);background:#0f0f0f;color:#fff}
    textarea{resize:none;height:100px}
    input::placeholder,textarea::placeholder{color:#888}
    button{margin-top:18px;width:100%;padding:13px;border-radius:12px;border:0;background:linear-gradient(135deg,#ffd700,#ffa500);color:#111;font-weight:800;text-transform:uppercase;box-shadow:0 0 15px rgba(255,215,0,.6);cursor:pointer}
    button:hover{transform:scale(1.02)}
    #msg{margin-top:14px;text-align:center;font-weight:700}
    .footer{margin-top:18px;text-align:center;color:#ffd700;opacity:.8;font-size:13px}
  </style>
</head>
<body>
  <div class="wrap">
    <h2>üìã ProgramƒÉri Poli»õie</h2>

    <!-- Honeypot anti-bot (invizibil) -->
    <input type="text" id="hp_field" style="display:none">

    <label>ID-ul TƒÉu</label>
    <input id="id" maxlength="10" required placeholder="37987">

    <label>Numele TƒÉu IC</label>
    <input id="nume" maxlength="50" required placeholder="Borgov Dimitri"

    <label>Discordul TƒÉu</label>
    <input id="discord" maxlength="50" required placeholder="Laur70">

    <label>Telefon</label>
    <input id="telefon" maxlength="15" placeholder="0712 345 678">

    <label>Men»õiuni</label>
    <textarea id="mentiuni" maxlength="300" placeholder="Aplic pentru testul ANP, disponibil 20:00‚Äì21:00."></textarea>

    <button id="send" type="button">‚úÖ ProgrameazƒÉ-te</button>
    <div id="msg"></div>

    <div class="footer">¬© OGLand Rom√¢nia ‚Äî Made by Laur70</div>
  </div>

<script>
  const API_URL = "https://script.google.com/macros/s/AKfycbw69xTh-194gWEzCjne7a991pVIwUn7UvfhpSM6xeFvJJ8mwwIK_h8SWLfcMXeNECFs/exec";

  function show(t, ok=false){
    document.getElementById("msg").innerHTML =
      `<span style="color:${ok?'lime':'#ff6b6b'}">${t}</span>`;
  }

  document.getElementById("send").addEventListener("click", async () => {
    const data = {
      id:       document.getElementById("id").value.trim(),
      nume:     document.getElementById("nume").value.trim(),
      discord:  document.getElementById("discord").value.trim(),
      telefon:  document.getElementById("telefon").value.trim(),
      mentiuni: document.getElementById("mentiuni").value.trim(),
      hp_field: document.getElementById("hp_field")?.value || ""
    };

    if (!/^\d{3,10}$/.test(data.id))  return show("‚ö†Ô∏è ID invalid");
    if (!(data.nume.length>=2 && data.nume.length<=50)) return show("‚ö†Ô∏è Nume invalid");

    try {
      // Trimitem ca application/x-www-form-urlencoded -> e.parameter va fi populat
      const form = new URLSearchParams();
      Object.entries(data).forEach(([k, v]) => form.append(k, v));

      const resp = await fetch(API_URL, {
        method: "POST",
        headers: { "Content-Type": "application/x-www-form-urlencoded;charset=UTF-8" },
        body: form.toString()
      });

      show("‚úî FelicitƒÉri, ai fost programat! A»ôteaptƒÉ sƒÉ fii contactat.", true);
    } catch (e) {
      show("‚ùå Nu s-a putut trimite. √éncearcƒÉ mai t√¢rziu.");
    }
  });
</script>

</body>
</html>
